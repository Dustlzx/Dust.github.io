<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dust_灰尘</title>
    <meta name="description" content="工作之后学习积累的一些知识点">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/Dust.github.io/assets/style.D8pZFTTl.css" as="style">
    <link rel="preload stylesheet" href="/Dust.github.io/vp-icons.css" as="style">
    
    <script type="module" src="/Dust.github.io/assets/app.BhL7c4x5.js"></script>
    <link rel="preload" href="/Dust.github.io/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/Dust.github.io/assets/chunks/theme.CyFjyOK9.js">
    <link rel="modulepreload" href="/Dust.github.io/assets/chunks/framework.DYxeFYSt.js">
    <link rel="modulepreload" href="/Dust.github.io/assets/notes_react笔记.md.D_O9TGYd.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5b2aeb33><!--[--><!--]--><!--[--><span tabindex="-1" data-v-88a54678></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-88a54678>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5b2aeb33 data-v-dbb108fe><div class="VPNavBar" data-v-dbb108fe data-v-494bf841><div class="wrapper" data-v-494bf841><div class="container" data-v-494bf841><div class="title" data-v-494bf841><div class="VPNavBarTitle" data-v-494bf841 data-v-741ca18d><a class="title" href="/Dust.github.io/" data-v-741ca18d><!--[--><!--]--><!--[--><img class="VPImage logo" src="/Dust.github.io/home.jpg" alt data-v-042ac472><!--]--><span data-v-741ca18d>Dust_灰尘</span><!--[--><!--]--></a></div></div><div class="content" data-v-494bf841><div class="content-body" data-v-494bf841><!--[--><!--]--><div class="VPNavBarSearch search" data-v-494bf841><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-494bf841 data-v-90f18656><span id="main-nav-aria-label" class="visually-hidden" data-v-90f18656> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Dust.github.io/" tabindex="0" data-v-90f18656 data-v-70173f18><!--[--><span data-v-70173f18>首页</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-90f18656 data-v-6e11d721><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6e11d721><span class="text" data-v-6e11d721><!----><span data-v-6e11d721>开发问题汇总</span><span class="vpi-chevron-down text-icon" data-v-6e11d721></span></span></button><div class="menu" data-v-6e11d721><div class="VPMenu" data-v-6e11d721 data-v-e5633cbd><div class="items" data-v-e5633cbd><!--[--><!--[--><div class="VPMenuLink" data-v-e5633cbd data-v-4cd10241><a class="VPLink link" href="/Dust.github.io/articles/uniapp/" data-v-4cd10241><!--[--><span data-v-4cd10241>uniapp相关</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e5633cbd data-v-4cd10241><a class="VPLink link" href="/Dust.github.io/articles/vue2/" data-v-4cd10241><!--[--><span data-v-4cd10241>vue2相关</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-90f18656 data-v-6e11d721><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6e11d721><span class="text" data-v-6e11d721><!----><span data-v-6e11d721>项目案例</span><span class="vpi-chevron-down text-icon" data-v-6e11d721></span></span></button><div class="menu" data-v-6e11d721><div class="VPMenu" data-v-6e11d721 data-v-e5633cbd><div class="items" data-v-e5633cbd><!--[--><!--[--><div class="VPMenuLink" data-v-e5633cbd data-v-4cd10241><a class="VPLink link" href="/Dust.github.io/project/order-project/1.%E9%A1%B9%E7%9B%AE%E8%B5%B7%E6%AD%A5.html" data-v-4cd10241><!--[--><span data-v-4cd10241>点餐小程序项目</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-90f18656 data-v-6e11d721><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6e11d721><span class="text" data-v-6e11d721><!----><span data-v-6e11d721>教程笔记</span><span class="vpi-chevron-down text-icon" data-v-6e11d721></span></span></button><div class="menu" data-v-6e11d721><div class="VPMenu" data-v-6e11d721 data-v-e5633cbd><div class="items" data-v-e5633cbd><!--[--><!--[--><div class="VPMenuLink" data-v-e5633cbd data-v-4cd10241><a class="VPLink link" href="/Dust.github.io/notes/vue%E7%AC%94%E8%AE%B0.html" data-v-4cd10241><!--[--><span data-v-4cd10241>vue</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e5633cbd data-v-4cd10241><a class="VPLink link" href="/Dust.github.io/notes/uni-app%E7%AC%94%E8%AE%B0.html" data-v-4cd10241><!--[--><span data-v-4cd10241>uni-app</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e5633cbd data-v-4cd10241><a class="VPLink link active" href="/Dust.github.io/notes/react%E7%AC%94%E8%AE%B0.html" data-v-4cd10241><!--[--><span data-v-4cd10241>react</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e5633cbd data-v-4cd10241><a class="VPLink link" href="/Dust.github.io/notes/js%E7%AC%94%E8%AE%B0.html" data-v-4cd10241><!--[--><span data-v-4cd10241>js</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e5633cbd data-v-4cd10241><a class="VPLink link" href="/Dust.github.io/notes/html+css.html" data-v-4cd10241><!--[--><span data-v-4cd10241>html+css</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e5633cbd data-v-4cd10241><a class="VPLink link" href="/Dust.github.io/notes/Rest%E5%92%8CAjax%E7%AC%94%E8%AE%B0.html" data-v-4cd10241><!--[--><span data-v-4cd10241>Rest和Ajax</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e5633cbd data-v-4cd10241><a class="VPLink link" href="/Dust.github.io/notes/memfiredb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html" data-v-4cd10241><!--[--><span data-v-4cd10241>memfiredb</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e5633cbd data-v-4cd10241><a class="VPLink link" href="/Dust.github.io/notes/JAVA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html" data-v-4cd10241><!--[--><span data-v-4cd10241>JAVA学习笔记</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e5633cbd data-v-4cd10241><a class="VPLink link" href="/Dust.github.io/notes/Node.js%E7%AC%94%E8%AE%B0.html" data-v-4cd10241><!--[--><span data-v-4cd10241>node.js</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e5633cbd data-v-4cd10241><a class="VPLink link" href="/Dust.github.io/notes/git%E7%AC%94%E8%AE%B0.html" data-v-4cd10241><!--[--><span data-v-4cd10241>git</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e5633cbd data-v-4cd10241><a class="VPLink link" href="/Dust.github.io/notes/canvas%E7%AC%94%E8%AE%B0.html" data-v-4cd10241><!--[--><span data-v-4cd10241>canvas</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Dust.github.io/learnExpand/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html" tabindex="0" data-v-90f18656 data-v-70173f18><!--[--><span data-v-70173f18>学习拓展</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-90f18656 data-v-6e11d721><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6e11d721><span class="text" data-v-6e11d721><!----><span data-v-6e11d721>其他</span><span class="vpi-chevron-down text-icon" data-v-6e11d721></span></span></button><div class="menu" data-v-6e11d721><div class="VPMenu" data-v-6e11d721 data-v-e5633cbd><div class="items" data-v-e5633cbd><!--[--><!--[--><div class="VPMenuLink" data-v-e5633cbd data-v-4cd10241><a class="VPLink link" href="/Dust.github.io/other/%E9%9D%A2%E8%AF%95%E9%A2%98.html" data-v-4cd10241><!--[--><span data-v-4cd10241>面试题</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e5633cbd data-v-4cd10241><a class="VPLink link" href="/Dust.github.io/other/%E9%AD%94%E6%B3%95.html" data-v-4cd10241><!--[--><span data-v-4cd10241>魔法</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-494bf841 data-v-aca54501><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-aca54501 data-v-73688d18 data-v-a8e16b0e><span class="check" data-v-a8e16b0e><span class="icon" data-v-a8e16b0e><!--[--><span class="vpi-sun sun" data-v-73688d18></span><span class="vpi-moon moon" data-v-73688d18></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-494bf841 data-v-a257b7e4 data-v-337c4d40><!--[--><a class="VPSocialLink no-icon" href="https://gitee.com/Dust_WX" aria-label="gitee" target="_blank" rel="noopener" data-v-337c4d40 data-v-a4313cf2><span class="vpi-social-gitee"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-494bf841 data-v-d7dafa9f data-v-6e11d721><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6e11d721><span class="vpi-more-horizontal icon" data-v-6e11d721></span></button><div class="menu" data-v-6e11d721><div class="VPMenu" data-v-6e11d721 data-v-e5633cbd><!----><!--[--><!--[--><!----><div class="group" data-v-d7dafa9f><div class="item appearance" data-v-d7dafa9f><p class="label" data-v-d7dafa9f>Appearance</p><div class="appearance-action" data-v-d7dafa9f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-d7dafa9f data-v-73688d18 data-v-a8e16b0e><span class="check" data-v-a8e16b0e><span class="icon" data-v-a8e16b0e><!--[--><span class="vpi-sun sun" data-v-73688d18></span><span class="vpi-moon moon" data-v-73688d18></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d7dafa9f><div class="item social-links" data-v-d7dafa9f><div class="VPSocialLinks social-links-list" data-v-d7dafa9f data-v-337c4d40><!--[--><a class="VPSocialLink no-icon" href="https://gitee.com/Dust_WX" aria-label="gitee" target="_blank" rel="noopener" data-v-337c4d40 data-v-a4313cf2><span class="vpi-social-gitee"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-494bf841 data-v-0a3d1bdc><span class="container" data-v-0a3d1bdc><span class="top" data-v-0a3d1bdc></span><span class="middle" data-v-0a3d1bdc></span><span class="bottom" data-v-0a3d1bdc></span></span></button></div></div></div></div><div class="divider" data-v-494bf841><div class="divider-line" data-v-494bf841></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-5b2aeb33 data-v-9bc1573f><div class="container" data-v-9bc1573f><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-9bc1573f data-v-0bf54c88><button data-v-0bf54c88>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-5b2aeb33 data-v-b991000b><div class="VPDoc has-aside" data-v-b991000b data-v-89997ade><!--[--><!--]--><div class="container" data-v-89997ade><div class="aside" data-v-89997ade><div class="aside-curtain" data-v-89997ade></div><div class="aside-container" data-v-89997ade><div class="aside-content" data-v-89997ade><div class="VPDocAside" data-v-89997ade data-v-16293743><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-16293743 data-v-8e33f310><div class="content" data-v-8e33f310><div class="outline-marker" data-v-8e33f310></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-8e33f310>文章标题</div><ul class="VPDocOutlineItem root" data-v-8e33f310 data-v-e182852c><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-16293743></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-89997ade><div class="content-container" data-v-89997ade><!--[--><!--]--><main class="main" data-v-89997ade><div style="position:relative;" class="vp-doc _Dust_github_io_notes_react%E7%AC%94%E8%AE%B0" data-v-89997ade><div><h2 id="_1-1-react-介绍" tabindex="-1">1-1 React 介绍 <a class="header-anchor" href="#_1-1-react-介绍" aria-label="Permalink to &quot;1-1 React 介绍&quot;">​</a></h2><h3 id="react-是什么" tabindex="-1">React 是什么 <a class="header-anchor" href="#react-是什么" aria-label="Permalink to &quot;React 是什么&quot;">​</a></h3><p>React 由 Meta 公司研发，是一个用于<code>构建 Web 和原生交互界面的库</code></p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_10-29-16.ChSnag_o.png" alt="asdasd"></p><h3 id="react-的优势" tabindex="-1">React 的优势 <a class="header-anchor" href="#react-的优势" aria-label="Permalink to &quot;React 的优势&quot;">​</a></h3><p>相较于传统基于 DOM 开发的优势</p><ul><li><p>组件化的开发方式</p></li><li><p>不错的性能</p></li></ul><p>相较于其它前端框架的优势</p><ul><li><p>丰富的生态</p></li><li><p>跨平台支持</p></li></ul><h3 id="react-的市场情况" tabindex="-1">React 的市场情况 <a class="header-anchor" href="#react-的市场情况" aria-label="Permalink to &quot;React 的市场情况&quot;">​</a></h3><p>全球最流行，大厂必备</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_10-32-16.DmhOKLBP.png" alt=""></p><h2 id="_1-2-开发环境搭建" tabindex="-1">1-2 开发环境搭建 <a class="header-anchor" href="#_1-2-开发环境搭建" aria-label="Permalink to &quot;1-2 开发环境搭建&quot;">​</a></h2><h3 id="使用-create-react-app-快速搭建开发环境" tabindex="-1">使用 create-react-app 快速搭建开发环境 <a class="header-anchor" href="#使用-create-react-app-快速搭建开发环境" aria-label="Permalink to &quot;使用 create-react-app 快速搭建开发环境&quot;">​</a></h3><p>create-react-app 是一个快速 创建 React 开发环境的工具，底层由 Webpack 构建，封装了配置细节，开箱即用</p><p>执行命令：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">npx create</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">react</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app react</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">basic</span></span></code></pre></div><ol><li><p>npx Node.js 工具命令，查找并执行后续的包命令</p></li><li><p>create-react-app 核心包（固定写法），用于创建 React 项目</p></li><li><p>react-basic React 项目的名称（可以自定义）</p></li></ol><p><strong>创建 React 项目的更多方式</strong></p><p><a href="https://zh-hans.react.dev/learn/start-a-new-react-project" target="_blank" rel="noreferrer">https://zh-hans.react.dev/learn/start-a-new-react-project</a></p><h2 id="_1-2-jsx-基础-概念和本质" tabindex="-1">1-2 JSX 基础-概念和本质 <a class="header-anchor" href="#_1-2-jsx-基础-概念和本质" aria-label="Permalink to &quot;1-2 JSX 基础-概念和本质&quot;">​</a></h2><h3 id="什么是-jsx" tabindex="-1">什么是 JSX <a class="header-anchor" href="#什么是-jsx" aria-label="Permalink to &quot;什么是 JSX&quot;">​</a></h3><p>概念：JSX 是 JavaScript 和 XML（HTML）的缩写，表示在 JS 代码中编写 HTML 模版结构,它是 React 中编写 UI 模版的方式</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_10-33-07.CvrjMJg7.png" alt=""></p><p><strong>优势：</strong></p><ol><li><p>HTML 的声明式模版写法</p></li><li><p>JS 的可编程能力</p></li></ol><h3 id="jsx-的本质" tabindex="-1">JSX 的本质 <a class="header-anchor" href="#jsx-的本质" aria-label="Permalink to &quot;JSX 的本质&quot;">​</a></h3><p>JSX 并不是标准的 JS 语法，它是 JS 的语法扩展，浏览器本身不能识别，需要通过解析工具做解析之后才能 在浏览器中运行</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_10-36-37.BFkx6e4m.png" alt=""></p><h2 id="_1-3-jsx-基础-高频场景" tabindex="-1">1-3 JSX 基础-高频场景 <a class="header-anchor" href="#_1-3-jsx-基础-高频场景" aria-label="Permalink to &quot;1-3 JSX 基础-高频场景&quot;">​</a></h2><h3 id="jsx-中使用-js-表达式" tabindex="-1">JSX 中使用 JS 表达式 <a class="header-anchor" href="#jsx-中使用-js-表达式" aria-label="Permalink to &quot;JSX 中使用 JS 表达式&quot;">​</a></h3><p>在 JSX 中可以通过 大括号语法{} 识别 JavaScript 中的表达式，比如常见的变量、函数调用、方法调用等等</p><ol><li>使用引号传递字符串</li><li>使用 JavaScript 变量</li><li>函数调用和方法调用</li><li>使用 JavaScript 对象</li></ol><p><strong>注意：</strong> if 语句、switch 语句、变量声明属于语句，不是表达式，不能出现在{}中</p><h3 id="jsx-中实现列表渲染" tabindex="-1">JSX 中实现列表渲染 <a class="header-anchor" href="#jsx-中实现列表渲染" aria-label="Permalink to &quot;JSX 中实现列表渲染&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_10-39-57.C8JSqJIJ.png" alt=""></p><p>语法：在 JSX 中可以使用原生 JS 中的 map 方法遍历渲染列表</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_10-41-36.CqYzOY1s.png" alt=""></p><h3 id="jsx-中实现条件渲染" tabindex="-1">JSX 中实现条件渲染 <a class="header-anchor" href="#jsx-中实现条件渲染" aria-label="Permalink to &quot;JSX 中实现条件渲染&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_10-49-12.DHGEV5g1.png" alt=""></p><p><strong>需求：列表中需要根据文章状态适配三种情况，单图，三图，和无图三种模式</strong></p><p><strong>解决方案：自定义函数 + if 判断语句</strong></p><h2 id="_1-4-react-中的事件绑定" tabindex="-1">1-4 React 中的事件绑定 <a class="header-anchor" href="#_1-4-react-中的事件绑定" aria-label="Permalink to &quot;1-4 React 中的事件绑定&quot;">​</a></h2><h3 id="react-基础事件绑定" tabindex="-1">React 基础事件绑定 <a class="header-anchor" href="#react-基础事件绑定" aria-label="Permalink to &quot;React 基础事件绑定&quot;">​</a></h3><p>语法：<code>on + 事件名称 = { 事件处理程序 }</code>，整体上遵循驼峰命名法</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_10-52-53.DbrpAp9O.png" alt=""></p><h3 id="使用事件对象参数" tabindex="-1">使用事件对象参数 <a class="header-anchor" href="#使用事件对象参数" aria-label="Permalink to &quot;使用事件对象参数&quot;">​</a></h3><p>语法：在事件回调函数中设置形参 e</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_10-54-03.CLwoPKGn.png" alt=""></p><h3 id="传递自定义参数" tabindex="-1">传递自定义参数 <a class="header-anchor" href="#传递自定义参数" aria-label="Permalink to &quot;传递自定义参数&quot;">​</a></h3><p>语法：事件绑定的位置改造成<code>箭头函数的写法</code>，在执行 clickHandler 实际处理业务函数的时候传递实参</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_10-55-11.C_EmJy13.png" alt=""></p><p>注意：不能直接写函数调用，这里事件绑定需要一个函数引用</p><h3 id="同时传递事件对象和自定义参数" tabindex="-1">同时传递事件对象和自定义参数 <a class="header-anchor" href="#同时传递事件对象和自定义参数" aria-label="Permalink to &quot;同时传递事件对象和自定义参数&quot;">​</a></h3><p>语法：在事件绑定的位置传递事件实参 e 和自定义参数，clickHandler 中声明形参，注意顺序对应</p><h2 id="_1-4-react-中的组件" tabindex="-1">1-4 React 中的组件 <a class="header-anchor" href="#_1-4-react-中的组件" aria-label="Permalink to &quot;1-4 React 中的组件&quot;">​</a></h2><h3 id="组件是什么" tabindex="-1">组件是什么 <a class="header-anchor" href="#组件是什么" aria-label="Permalink to &quot;组件是什么&quot;">​</a></h3><p><strong>概念：</strong> 一个组件就是用户界面的一部分，它可以有自己的逻辑和外观，组件之间<code>可以互相嵌套，也可以复用多次</code></p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_10-57-48.Bcj7I7vw.png" alt=""></p><p><strong>组件化开发可以让开发者像搭积木一样构建一个完整的庞大的应用</strong></p><h3 id="react-组件" tabindex="-1">React 组件 <a class="header-anchor" href="#react-组件" aria-label="Permalink to &quot;React 组件&quot;">​</a></h3><p>在 React 中，一个组件就是<code>首字母大写的函数</code>，内部存放了组件的逻辑和视图 UI, 渲染组件只需要把组件当成标签书写 即可</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_10-59-10.De7dgcoY.png" alt=""></p><h2 id="_1-5-usestate" tabindex="-1">1-5 useState <a class="header-anchor" href="#_1-5-usestate" aria-label="Permalink to &quot;1-5 useState&quot;">​</a></h2><h3 id="usestate-基础使用" tabindex="-1">useState 基础使用 <a class="header-anchor" href="#usestate-基础使用" aria-label="Permalink to &quot;useState 基础使用&quot;">​</a></h3><p>useState 是一个 React Hook（函数），它允许我们向组件添加一个状态变量, 从而控制影响组件的渲染结果</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-00-20.BH7T_MlM.png" alt=""></p><p>本质：和普通 JS 变量不同的是，状态变量一旦发生变化组件的视图 UI 也会跟着变化（数据驱动视图</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-01-26.3q1LWDc6.png" alt=""></p><h2 id="_1-6-修改状态的规则" tabindex="-1">1-6 修改状态的规则 <a class="header-anchor" href="#_1-6-修改状态的规则" aria-label="Permalink to &quot;1-6 修改状态的规则&quot;">​</a></h2><h3 id="状态不可变" tabindex="-1">状态不可变 <a class="header-anchor" href="#状态不可变" aria-label="Permalink to &quot;状态不可变&quot;">​</a></h3><p>在 React 中，状态被认为是只读的，我们应该始终<code>替换它而不是修改它</code>，直接修改状态不能引发视图更新</p><h3 id="修改对象状态" tabindex="-1">修改对象状态 <a class="header-anchor" href="#修改对象状态" aria-label="Permalink to &quot;修改对象状态&quot;">​</a></h3><p>规则：对于对象类型的状态变量，应该始终传给 set 方法一个<code>全新的对象</code>来进行修改</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-11-31.uC_uxO_m.png" alt=""></p><h2 id="_1-7-组件的样式处理" tabindex="-1">1-7 组件的样式处理 <a class="header-anchor" href="#_1-7-组件的样式处理" aria-label="Permalink to &quot;1-7 组件的样式处理&quot;">​</a></h2><h3 id="组件基础样式方案" tabindex="-1">组件基础样式方案 <a class="header-anchor" href="#组件基础样式方案" aria-label="Permalink to &quot;组件基础样式方案&quot;">​</a></h3><p>React 组件基础的样式控制有俩种方式</p><ol><li>行内样式（不推荐）</li></ol><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-12-56.D3Z2QwpX.png" alt=""></p><ol start="2"><li>class 类名控制</li></ol><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-13-45.BaspQnAi.png" alt=""></p><h2 id="_1-8-案例-b-站评论" tabindex="-1">1-8 案例：B 站评论 <a class="header-anchor" href="#_1-8-案例-b-站评论" aria-label="Permalink to &quot;1-8 案例：B 站评论&quot;">​</a></h2><h3 id="b-站评论案例" tabindex="-1">B 站评论案例 <a class="header-anchor" href="#b-站评论案例" aria-label="Permalink to &quot;B 站评论案例&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-14-34.Bbp2jaTU.png" alt=""></p><ol><li>渲染评论列表</li><li>删除评论实现</li><li>渲染导航 Tab 和高亮实现</li><li>评论列表排序功能实现</li></ol><h3 id="渲染评论列表" tabindex="-1">渲染评论列表 <a class="header-anchor" href="#渲染评论列表" aria-label="Permalink to &quot;渲染评论列表&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-14-34.Bbp2jaTU.png" alt=""></p><p><strong>核心思路：</strong></p><ol><li>使用 useState 维护评论列表</li><li>使用 map 方法对列表数据进行遍历渲染（别忘了加 key）</li></ol><h3 id="实现评论删除" tabindex="-1">实现评论删除 <a class="header-anchor" href="#实现评论删除" aria-label="Permalink to &quot;实现评论删除&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-14-34.Bbp2jaTU.png" alt=""></p><p><strong>需求：</strong></p><ol><li>只有自己的评论才显示删除按钮</li><li>点击删除按钮，删除当前评论，列表中不再显示</li></ol><p><strong>核心思路</strong></p><ol><li>删除显示 - 条件渲染</li><li>删除功能 - 拿到当前项 id 以 id 为条件对评论列表做 filter 过滤</li></ol><h3 id="渲染-tab-点击高亮实现" tabindex="-1">渲染 Tab+点击高亮实现 <a class="header-anchor" href="#渲染-tab-点击高亮实现" aria-label="Permalink to &quot;渲染 Tab+点击高亮实现&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-14-34.Bbp2jaTU.png" alt=""></p><p><strong>需求：</strong></p><p>点击哪个 tab 项，哪个做高亮处理</p><p><strong>核心思路：</strong></p><p>点击谁就把谁的<code>type（独一无二的标识）记录</code>下来，然后和遍历时的<code>每一项的 type 做匹配</code>，谁匹配到就设置负责高亮的类名</p><h3 id="classnames-优化类名控制" tabindex="-1">classnames 优化类名控制 <a class="header-anchor" href="#classnames-优化类名控制" aria-label="Permalink to &quot;classnames 优化类名控制&quot;">​</a></h3><p>classnames 是一个简单的 JS 库，可以非常方便的<code>通过条件动态控制class类名的显示</code></p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-19-54.Dn9IG3Rm.png" alt=""></p><p><strong>现在的问题：字符串的拼接方式不够直观，也容易出错</strong></p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-21-08.DtNEy-Iy.png" alt=""></p><h2 id="_2-1-受控表单绑定" tabindex="-1">2-1 受控表单绑定 <a class="header-anchor" href="#_2-1-受控表单绑定" aria-label="Permalink to &quot;2-1 受控表单绑定&quot;">​</a></h2><h3 id="受控表单绑定" tabindex="-1">受控表单绑定 <a class="header-anchor" href="#受控表单绑定" aria-label="Permalink to &quot;受控表单绑定&quot;">​</a></h3><p>概念：使用 React 组件的状态（useState）控制表单的状态（参考 vue 的 v-model 双向绑定）</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-24-40.BXmuMtk8.png" alt=""></p><ol><li>准备一个 React 状态值</li></ol><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><ol start="2"><li>通过 value 属性绑定状态，通过 onChange 属性绑定状态同步的函数</li></ol><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">input</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;text&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{value}</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onChange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{(e)</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;setValue(e.target.value)}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span></code></pre></div><h2 id="_2-2-react-中获取-dom" tabindex="-1">2-2 React 中获取 DOM <a class="header-anchor" href="#_2-2-react-中获取-dom" aria-label="Permalink to &quot;2-2 React 中获取 DOM&quot;">​</a></h2><h3 id="react-中获取-dom" tabindex="-1">React 中获取 DOM <a class="header-anchor" href="#react-中获取-dom" aria-label="Permalink to &quot;React 中获取 DOM&quot;">​</a></h3><p>在 React 组件中获取/操作 DOM，需要使用 useRef React Hook 钩子函数，分为两步：</p><ol><li>使用 useRef 创建 ref 对象，并与 JSX 绑定</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> inputRef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">input</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;text&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{inputRef} /&gt;</span></span></code></pre></div><ol start="2"><li>在 DOM 可用时，通过 inputRef.current 拿到 DOM 对象</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(inputRef.current);</span></span></code></pre></div><h2 id="_2-3-案例-b-站评论-—-发表评论" tabindex="-1">2-3 案例：B 站评论 — 发表评论 <a class="header-anchor" href="#_2-3-案例-b-站评论-—-发表评论" aria-label="Permalink to &quot;2-3 案例：B 站评论 — 发表评论&quot;">​</a></h2><h3 id="b-站评论案例-——-核心功能实现" tabindex="-1">B 站评论案例 —— 核心功能实现 <a class="header-anchor" href="#b-站评论案例-——-核心功能实现" aria-label="Permalink to &quot;B 站评论案例 —— 核心功能实现&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-34-36.BYT55M0E.png" alt=""></p><ol><li>获取评论内容</li><li>点击发布按钮发布评论</li></ol><h3 id="b-站评论案例-—-id-处理和时间处理" tabindex="-1">B 站评论案例 — id 处理和时间处理 <a class="header-anchor" href="#b-站评论案例-—-id-处理和时间处理" aria-label="Permalink to &quot;B 站评论案例 — id 处理和时间处理&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-35-41.Dtk2fXCX.png" alt=""></p><ol><li>rpid 要求一个唯一的随机数 id - <code>uuid</code></li><li>ctime 要求以当前时间为标准，生成固定格式 - <code>dayj</code></li></ol><h3 id="b-站评论案例-—-清空内容并重新聚焦" tabindex="-1">B 站评论案例 — 清空内容并重新聚焦 <a class="header-anchor" href="#b-站评论案例-—-清空内容并重新聚焦" aria-label="Permalink to &quot;B 站评论案例 — 清空内容并重新聚焦&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-36-43.DBZ6HDiG.png" alt=""></p><ol><li>清空内容 - 把控制 input 框的 value 状态设置为空串</li><li>重新聚焦 - 拿到 input 的 dom 元素，调用 focus 方法</li></ol><h2 id="_2-4-组件通信" tabindex="-1">2-4 组件通信 <a class="header-anchor" href="#_2-4-组件通信" aria-label="Permalink to &quot;2-4 组件通信&quot;">​</a></h2><h3 id="理解组件通信" tabindex="-1">理解组件通信 <a class="header-anchor" href="#理解组件通信" aria-label="Permalink to &quot;理解组件通信&quot;">​</a></h3><p>概念：组件通信就是<code>组件之间的数据传递</code>，根据组件嵌套关系的不同，有不同的通信方法</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-38-09.CUCkPM24.png" alt=""></p><h3 id="父传子-基础实现" tabindex="-1">父传子-基础实现 <a class="header-anchor" href="#父传子-基础实现" aria-label="Permalink to &quot;父传子-基础实现&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-38-46.5Zc3XPdF.png" alt=""></p><p>实现步骤</p><ol><li>父组件传递数据 - 在子组件标签上<code>绑定属性</code></li><li>子组件接收数据 - 子组件通过 <code>props 参数</code>接收数据</li></ol><h3 id="父传子-props-说明" tabindex="-1">父传子-props 说明 <a class="header-anchor" href="#父传子-props-说明" aria-label="Permalink to &quot;父传子-props 说明&quot;">​</a></h3><ol><li><p>props 可传递任意的数据</p><p>数字、字符串、布尔值、数组、对象、函数、JSX</p></li></ol><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-40-09.CRuTkG29.png" alt=""></p><ol start="2"><li>props 是只读对象</li></ol><p>子组件<code>只能读取 props 中的数据</code>，不能直接进行修改, 父组件的数据只能由父组件修改</p><h3 id="父传子-特殊的-prop-childre" tabindex="-1">父传子 - 特殊的 prop childre <a class="header-anchor" href="#父传子-特殊的-prop-childre" aria-label="Permalink to &quot;父传子 - 特殊的 prop childre&quot;">​</a></h3><p>场景：当我们把内容嵌套在子组件标签中时，父组件会自动在名为 children 的 prop 属性中接收该内容</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Son</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;this is span&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Son</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-41-49.CIwpxBq7.png" alt=""></p><h3 id="父子组件通信-子传父" tabindex="-1">父子组件通信-子传父 <a class="header-anchor" href="#父子组件通信-子传父" aria-label="Permalink to &quot;父子组件通信-子传父&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-42-21.BdxPIZNP.png" alt=""></p><p>核心思路：在子组件中调用父组件中的函数并传递参数</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-42-52.3AT4yRdk.png" alt=""></p><h3 id="使用状态提升实现兄弟组件通信" tabindex="-1">使用状态提升实现兄弟组件通信 <a class="header-anchor" href="#使用状态提升实现兄弟组件通信" aria-label="Permalink to &quot;使用状态提升实现兄弟组件通信&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-43-21.DIT1fWEg.png" alt=""></p><p>实现思路：借助“状态提升”机制，通过父组件进行兄弟组件之间的数据传递</p><ol><li>A 组件先通过子传父的方式把数据传给父组件 App</li><li>App 拿到数据后通过父传子的方式再传递给 B 组件</li></ol><h3 id="使用-context-机制跨层级组件通信" tabindex="-1">使用 Context 机制跨层级组件通信 <a class="header-anchor" href="#使用-context-机制跨层级组件通信" aria-label="Permalink to &quot;使用 Context 机制跨层级组件通信&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-44-26.DjJKA_UI.png" alt=""></p><p>实现步骤：</p><ol><li>使用 createContext 方法创建一个上下文对象 Ctx</li><li>在顶层组件（App）中通过 Ctx.Provider 组件提供数据</li><li>在底层组件（B）中通过 useContext 钩子函数获取消费数据</li></ol><h2 id="_2-6-useeffect-的使用" tabindex="-1">2-6 useEffect 的使用 <a class="header-anchor" href="#_2-6-useeffect-的使用" aria-label="Permalink to &quot;2-6 useEffect 的使用&quot;">​</a></h2><h3 id="useeffect-的概念理解" tabindex="-1">useEffect 的概念理解 <a class="header-anchor" href="#useeffect-的概念理解" aria-label="Permalink to &quot;useEffect 的概念理解&quot;">​</a></h3><p>useEffect 是一个 React Hook 函数，用于在 React 组件中创建不是由事件引起而是由渲染本身引起的操作（副作用）, 比 如发送 AJAX 请求，更改 DOM 等等</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-45-30.CcFEo0Ac.png" alt=""></p><p>说明：上面的组件中没有发生任何的用户事件，<code>组件渲染完毕之后</code>就需要和服务器要数据，整个过程属于<code>&quot;只由渲染引起的操作&quot;</code></p><h3 id="useeffect-的基础使用" tabindex="-1">useEffect 的基础使用 <a class="header-anchor" href="#useeffect-的基础使用" aria-label="Permalink to &quot;useEffect 的基础使用&quot;">​</a></h3><p>需求：在组件渲染完毕之后，立刻从服务端获取频道列表数据并显示到页面中</p><p>语法：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}, []);</span></span></code></pre></div><p>参数 1 是一个函数，可以把它叫做副作用函数，在函数内部可以放置要执行的操作 参数 2 是一个数组（可选参），在数组里放置依赖项，不同依赖项会影响第一个参数函数的执行，<code>当是一个空数组的时候，副作用函数 只会在组件渲染完毕之后执行一次</code></p><p>接口地址：<a href="http://geek.itheima.net/v1_0/channels" target="_blank" rel="noreferrer">http://geek.itheima.net/v1_0/channels</a></p><h3 id="useeffect-依赖项参数说明" tabindex="-1">useEffect 依赖项参数说明 <a class="header-anchor" href="#useeffect-依赖项参数说明" aria-label="Permalink to &quot;useEffect 依赖项参数说明&quot;">​</a></h3><p>useEffect 副作用函数的执行时机存在多种情况，根据传入依赖项的不同，会有不同的执行表现</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-47-34.DgJXoaGy.png" alt=""></p><h3 id="useeffect-清除副作用" tabindex="-1">useEffect-清除副作用 <a class="header-anchor" href="#useeffect-清除副作用" aria-label="Permalink to &quot;useEffect-清除副作用&quot;">​</a></h3><p>在 useEffect 中编写的由渲染本身引起的对接组件外部的操作，社区也经常把它叫做副作用操作，比如在 useEffect 中开 启了一个定时器，我们想在组件卸载时把这个定时器再清理掉，这个过程就是清理副作用</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-48-36.X4XVOPkX.png" alt=""></p><p>说明：清除副作用的函数<code>最常见</code>的执行时机是在<code>组件卸载时自动执行</code></p><p>需求：在 Son 组件渲染时开启一个定制器，卸载时清除这个定时器</p><h2 id="_2-7-自定义-hook-实现" tabindex="-1">2-7 自定义 Hook 实现 <a class="header-anchor" href="#_2-7-自定义-hook-实现" aria-label="Permalink to &quot;2-7 自定义 Hook 实现&quot;">​</a></h2><h3 id="自定义-hook-函数" tabindex="-1">自定义 Hook 函数 <a class="header-anchor" href="#自定义-hook-函数" aria-label="Permalink to &quot;自定义 Hook 函数&quot;">​</a></h3><p>概念：自定义 Hook 是以 <code>use 打头的函数</code>，通过自定义 Hook 函数可以用来实现<code>逻辑的封装和复用</code></p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-50-29.Du4HyVpe.png" alt=""></p><h3 id="react-hooks-使用规则" tabindex="-1">React Hooks 使用规则 <a class="header-anchor" href="#react-hooks-使用规则" aria-label="Permalink to &quot;React Hooks 使用规则&quot;">​</a></h3><p>使用规则</p><ol><li><p>只能在组件中或者其他自定义 Hook 函数中调用</p></li><li><p>只能在组件的顶层调用，不能嵌套在 if、for、其他函数中</p></li></ol><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-51-25.Dre2rcBZ.png" alt=""></p><h2 id="_2-9-案例-优化-b-站评论案例" tabindex="-1">2-9 案例：优化 B 站评论案例 <a class="header-anchor" href="#_2-9-案例-优化-b-站评论案例" aria-label="Permalink to &quot;2-9 案例：优化 B 站评论案例&quot;">​</a></h2><h3 id="优化需求" tabindex="-1">优化需求 <a class="header-anchor" href="#优化需求" aria-label="Permalink to &quot;优化需求&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-52-16.O3JvgZnW.png" alt=""></p><ol><li>使用请求接口的方式获取评论列表并渲染</li><li>使用自定义 Hook 函数封装数据请求的逻辑</li><li>把评论中的每一项抽象成一个独立的组件实现渲染</li></ol><h3 id="优化需求-通过接口获取评论列表" tabindex="-1">优化需求-通过接口获取评论列表 <a class="header-anchor" href="#优化需求-通过接口获取评论列表" aria-label="Permalink to &quot;优化需求-通过接口获取评论列表&quot;">​</a></h3><ol><li><p>使用 json-server 工具模拟接口服务, 通过 axios 发送接口请求</p><p>json-server 是一个快速以.json 文件作为数据源模拟接口服务的工具</p><p>axios 是一个广泛使用的前端请求库</p></li><li><p>使用 useEffect 调用接口获取数据</p></li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 发起网络请求</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, []);</span></span></code></pre></div><h3 id="优化需求-封装评论项-item-组件" tabindex="-1">优化需求-封装评论项 Item 组件 <a class="header-anchor" href="#优化需求-封装评论项-item-组件" aria-label="Permalink to &quot;优化需求-封装评论项 Item 组件&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-24_11-54-13.BNM6GOft.png" alt=""></p><p>抽象原则：App 作为“智能组件”负责数据的获取，Item 作为“UI 组件”负责数据的渲染</p><h2 id="_3-1-redux-快速上手" tabindex="-1">3-1 Redux 快速上手 <a class="header-anchor" href="#_3-1-redux-快速上手" aria-label="Permalink to &quot;3-1 Redux 快速上手&quot;">​</a></h2><h3 id="什么是-redux" tabindex="-1">什么是 Redux？ <a class="header-anchor" href="#什么是-redux" aria-label="Permalink to &quot;什么是 Redux？&quot;">​</a></h3><p>Redux 是 React 最常用的<code>集中状态管理工具</code>，类似于 Vue 中的 Pinia（Vuex），<code>可以独立于框架运行</code></p><p>作用：通过集中管理的方式管理应用的状态</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-25_16-47-32.CY4D_h2B.png" alt=""></p><h3 id="redux-快速体验" tabindex="-1">Redux 快速体验 <a class="header-anchor" href="#redux-快速体验" aria-label="Permalink to &quot;Redux 快速体验&quot;">​</a></h3><p>不和任何框架绑定，不使用任何构建工具，使用纯 Redux 实现计数器</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-25_16-49-21.mgFYSwJs.png" alt=""></p><p>使用步骤：</p><ol><li>定义一个 <code>reducer 函数</code> （根据当前想要做的修改返回一个新的状态）</li><li>使用 createStore 方法传入 reducer 函数 生成一个 <code>store 实例对象</code></li><li>使用 store 实例的 <code>subscribe 方法</code> 订阅数据的变化（数据一旦变化，可以得到通知）</li><li>使用 store 实例的 <code>dispatch 方法提交 action 对象</code> 触发数据变化（告诉 reducer 你想怎么改数据）</li><li>使用 store 实例的 <code>getState 方法</code> 获取最新的状态数据更新到视图</li></ol><h3 id="redux-管理数据流程梳理" tabindex="-1">Redux 管理数据流程梳理 <a class="header-anchor" href="#redux-管理数据流程梳理" aria-label="Permalink to &quot;Redux 管理数据流程梳理&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-25_16-52-11.BvVnkGpR.png" alt=""></p><p>为了职责清晰，数据流向明确，Redux 把整个数据修改的流程分成了三个核心概念，分别是：state、action 和 reducer</p><ol><li>state - 一个对象 存放着我们管理的数据状态</li><li>action - 一个对象 用来描述你想怎么改数据</li><li>reducer - 一个函数 更具 action 的描述生成一个新的 state</li></ol><h2 id="_3-2-redux-与-react-环境" tabindex="-1">3-2 Redux 与 React - 环境 <a class="header-anchor" href="#_3-2-redux-与-react-环境" aria-label="Permalink to &quot;3-2 Redux 与 React - 环境&quot;">​</a></h2><h3 id="配套工具" tabindex="-1">配套工具 <a class="header-anchor" href="#配套工具" aria-label="Permalink to &quot;配套工具&quot;">​</a></h3><p>在 React 中使用 redux，官方要求安装俩个其他插件 - <code>Redux Toolkit</code> 和 <code>react-redux</code></p><ol><li>Redux Toolkit（RTK）- 官方推荐编写 Redux 逻辑的方式，是一套工具的集合集，简化书写方式</li></ol><p><img src="/Dust.github.io/assets/Snipaste_2023-11-25_16-54-29.M1P2CPTK.png" alt=""></p><ol start="2"><li>react-redux - 用来 链接 Redux 和 React 组件 的中间件</li></ol><p><img src="/Dust.github.io/assets/Snipaste_2023-11-25_16-55-25.DeRfsUyA.png" alt=""></p><h3 id="配置基础环境" tabindex="-1">配置基础环境 <a class="header-anchor" href="#配置基础环境" aria-label="Permalink to &quot;配置基础环境&quot;">​</a></h3><ol><li>使用 CRA 快速创建 React 项目</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">npx create</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">react</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app react</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redux</span></span></code></pre></div><ol start="2"><li>安装配套工具</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">npm i @reduxjs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">toolkit react</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">redux</span></span></code></pre></div><ol start="3"><li>启动项目</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">npm run start</span></span></code></pre></div><h3 id="store-目录结构设计" tabindex="-1">store 目录结构设计 <a class="header-anchor" href="#store-目录结构设计" aria-label="Permalink to &quot;store 目录结构设计&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-25_16-59-12.DTj7zBS5.png" alt=""></p><ol><li>通常集中状态管理的部分都会单独创建一个单独的 <code>store</code> 目录</li><li>应用通常会有很多个子 store 模块，所以创建一个 <code>modules</code> 目录，在内部编写业务分类的子 store</li><li>store 中的入口文件 index.js 的作用是组合 modules 中所有的子模块，并导出 store</li></ol><h2 id="_3-3-redux-与-react-实现-counte" tabindex="-1">3-3 Redux 与 React - 实现 counte <a class="header-anchor" href="#_3-3-redux-与-react-实现-counte" aria-label="Permalink to &quot;3-3 Redux 与 React - 实现 counte&quot;">​</a></h2><h3 id="整体路径熟悉" tabindex="-1">整体路径熟悉 <a class="header-anchor" href="#整体路径熟悉" aria-label="Permalink to &quot;整体路径熟悉&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-25_17-00-48.T6t65Hzj.png" alt=""></p><h3 id="使用-react-toolkit-创建-counterstor" tabindex="-1">使用 React Toolkit 创建 counterStor <a class="header-anchor" href="#使用-react-toolkit-创建-counterstor" aria-label="Permalink to &quot;使用 React Toolkit 创建 counterStor&quot;">​</a></h3><p>counterStore.js</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createSlice } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@reduxjs/toolkit&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> counterStore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createSlice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;counter&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 初始化state</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  initialState: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 编写修改数据的方法（同步方法） 支持直接修改</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  reducers: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    inscrement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      state.count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    decrement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      state.count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 解构出来actionCreater函数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">inscrement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">decrement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> counterStore.actions;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 获取reducer</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> reducer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> counterStore.reducer;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 以按需导出的方式导出actionCreater</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { inscrement, decrement };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 以默认导出的方式导出reducer</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reducer;</span></span></code></pre></div><p>store/index.js</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { configureStore } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@reduxjs/toolkit&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 导入子模块reducer</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> counterReducer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./modules/counterStore&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> store</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> configureStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  reducer: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    counter: counterReducer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> store;</span></span></code></pre></div><h3 id="为-react-注入-store" tabindex="-1">为 React 注入 store <a class="header-anchor" href="#为-react-注入-store" aria-label="Permalink to &quot;为 React 注入 store&quot;">​</a></h3><p>react-redux 负责把 Redux 和 React 链接 起来，内置 Provider 组件 通过 store 参数把创建好的 store 实例注入到应用中 ，链接正式建立</p><p>src/index.js</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> store </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./store&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Provider } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react-redux&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> root</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ReactDOM.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createRoot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;root&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">root.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">React.StrictMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Provider</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> store</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{store}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">App</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Provider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">React.StrictMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="react-组件使用-store-中的数据" tabindex="-1">React 组件使用 store 中的数据 <a class="header-anchor" href="#react-组件使用-store-中的数据" aria-label="Permalink to &quot;React 组件使用 store 中的数据&quot;">​</a></h3><p>在 React 组件中使用 store 中的数据，需要用到一个 钩子函数 - useSelector，它的作用是把 store 中的数据映射到组件 中，使用样例如下：</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-25_17-08-19.HQ_6RueQ.png" alt=""></p><h3 id="react-组件修改-store-中的数据" tabindex="-1">React 组件修改 store 中的数据 <a class="header-anchor" href="#react-组件修改-store-中的数据" aria-label="Permalink to &quot;React 组件修改 store 中的数据&quot;">​</a></h3><p>React 组件中修改 store 中的数据需要借助另外一个 hook 函数 - useDispatch，它的作用是生成提交 action 对象的 dispatch 函数，使用样例如下：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useDispatch, useSelector } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react-redux&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { inscrement, decrement } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./store/modules/counterStore&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> App</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useSelector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state.counter);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dispatch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useDispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;App&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">inscrement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())}&gt;+&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{count}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">decrement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())}&gt;-&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> App;</span></span></code></pre></div><h3 id="思考总结" tabindex="-1">思考总结 <a class="header-anchor" href="#思考总结" aria-label="Permalink to &quot;思考总结&quot;">​</a></h3><ol><li>组件中使用哪个 hook 函数获取 store 中的数据？</li></ol><details class="details custom-block"><summary>答案</summary><p>useSelector</p></details><ol start="2"><li>组件中使用哪个 hook 函数获取 dispatch 方法？</li></ol><details class="details custom-block"><summary>答案</summary><p>useDispatch</p></details><ol start="3"><li>如何得到要提交 action 对象？</li></ol><details class="details custom-block"><summary>答案</summary><p>执行 store 模块中导出的 actionCreater 方法</p></details><h2 id="_3-4-redux-与-react-提交-action-传参" tabindex="-1">3-4 Redux 与 React - 提交 action 传参 <a class="header-anchor" href="#_3-4-redux-与-react-提交-action-传参" aria-label="Permalink to &quot;3-4 Redux 与 React - 提交 action 传参&quot;">​</a></h2><h3 id="需求说明" tabindex="-1">需求说明 <a class="header-anchor" href="#需求说明" aria-label="Permalink to &quot;需求说明&quot;">​</a></h3><p><img src="/Dust.github.io/assets/Snipaste_2023-11-25_17-16-39.BwHp6Feq.png" alt=""></p><p>组件中有俩个按钮 <code>add to 10</code> 和 <code>add to 20</code> 可以直接把 count 值修改到对应的数字，目标 count 值是在组件中传递过 去的，需要在<code>提交action的时候传递参数</code></p><h3 id="提交-action-传参实现需求" tabindex="-1">提交 action 传参实现需求 <a class="header-anchor" href="#提交-action-传参实现需求" aria-label="Permalink to &quot;提交 action 传参实现需求&quot;">​</a></h3><p>在 reducers 的同步修改方法中<code>添加action对象参数</code>，在<code>调用actionCreater的时候传递参数</code>，参数会被传递到<code>action对象payload属性</code>上</p><p><img src="/Dust.github.io/assets/Snipaste_2023-11-25_17-18-28.CcHZE_XW.png" alt=""></p></div></div></main><footer class="VPDocFooter" data-v-89997ade data-v-c816fd7a><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter" data-v-5b2aeb33 data-v-ae1464b8><div class="container" data-v-ae1464b8><p class="message" data-v-ae1464b8>技术文档</p><p class="copyright" data-v-ae1464b8>2023年11月13日 @liangzhenxionly</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"articles_index.md\":\"nDkyhzJS\",\"articles_uniapp_dev mp-weixin 出错.md\":\"DEklpUWS\",\"articles_uniapp_index.md\":\"ChR0PcX_\",\"articles_uniapp_uni-app 做 android 应用开启定位权限.md\":\"DQPTSqN4\",\"articles_uniapp_uni-app 引入 cesium 报错.md\":\"BDnnRZHt\",\"articles_uniapp_uni-app 通过 plus.io 持久化存储 json 文件（卸载重装后依然可以拿到）.md\":\"CIsQy3wC\",\"articles_uniapp_uniapp app 端在线升级功能实现讲解——强制或可选升级，下载进度显示.md\":\"CANU1sD8\",\"articles_uniapp_uniapp 登陆后从 login 页面跳转到 tabbar 页面不触发 tabbar 页面生命周期.md\":\"B8Dtq-RR\",\"articles_uniapp_uniapp 里获取验证码样例.md\":\"B6MQZSQs\",\"articles_vue2_index.md\":\"BHYRixzS\",\"index.md\":\"ClfagBiD\",\"learnexpand_index.md\":\"kLEm3Ft1\",\"learnexpand_luckyexcel引入教程.md\":\"DOVi4Oxx\",\"learnexpand_前端代码规范.md\":\"BTP3eogy\",\"notes_canvas.md\":\"TrZ3R6xA\",\"notes_git笔记.md\":\"DY0Jpe-3\",\"notes_html_css.md\":\"BTQ-1Zn2\",\"notes_index.md\":\"ze7dtFAc\",\"notes_java学习笔记.md\":\"BRrz3Ca-\",\"notes_js笔记.md\":\"CJh_KXT0\",\"notes_memfiredb学习笔记.md\":\"Bhy3C9gp\",\"notes_node.js笔记.md\":\"Cke3TbJn\",\"notes_react笔记.md\":\"D_O9TGYd\",\"notes_rest和ajax笔记.md\":\"CYOj-EQj\",\"notes_uni-app笔记.md\":\"BcBsur9x\",\"notes_vue笔记.md\":\"DAEjbz7e\",\"other_面试题.md\":\"Ld3bnfln\",\"other_魔法.md\":\"I_sfvbSY\",\"project_index.md\":\"F2ZKuz-4\",\"project_order-project_1.项目起步.md\":\"SCa7MiwA\",\"project_order-project_2.点餐模块.md\":\"mH3zoVa7\",\"project_order-project_3.订单模块.md\":\"B8YuHSpS\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Dust_灰尘\",\"description\":\"工作之后学习积累的一些知识点\",\"base\":\"/Dust.github.io/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"outlineTitle\":\"文章标题\",\"outline\":[1,6],\"siteTitle\":\"Dust_灰尘\",\"logo\":\"/home.jpg\",\"footer\":{\"message\":\"技术文档\",\"copyright\":\"2023年11月13日 @liangzhenxionly\"},\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"开发问题汇总\",\"items\":[{\"text\":\"uniapp相关\",\"link\":\"/articles/uniapp/\"},{\"text\":\"vue2相关\",\"link\":\"/articles/vue2/\"}]},{\"text\":\"项目案例\",\"items\":[{\"text\":\"点餐小程序项目\",\"link\":\"/project/order-project/1.项目起步\"}]},{\"text\":\"教程笔记\",\"items\":[{\"text\":\"vue\",\"link\":\"/notes/vue笔记\"},{\"text\":\"uni-app\",\"link\":\"/notes/uni-app笔记\"},{\"text\":\"react\",\"link\":\"/notes/react笔记\"},{\"text\":\"js\",\"link\":\"/notes/js笔记\"},{\"text\":\"html+css\",\"link\":\"/notes/html+css\"},{\"text\":\"Rest和Ajax\",\"link\":\"/notes/Rest和Ajax笔记\"},{\"text\":\"memfiredb\",\"link\":\"/notes/memfiredb学习笔记\"},{\"text\":\"JAVA学习笔记\",\"link\":\"/notes/JAVA学习笔记\"},{\"text\":\"node.js\",\"link\":\"/notes/Node.js笔记\"},{\"text\":\"git\",\"link\":\"/notes/git笔记\"},{\"text\":\"canvas\",\"link\":\"/notes/canvas笔记\"}]},{\"text\":\"学习拓展\",\"link\":\"/learnExpand/前端代码规范\"},{\"text\":\"其他\",\"items\":[{\"text\":\"面试题\",\"link\":\"/other/面试题\"},{\"text\":\"魔法\",\"link\":\"/other/魔法\"}]}],\"sidebar\":{\"/articles/uniapp/\":[{\"text\":\"dev mp-weixin 出错\",\"link\":\"/articles/uniapp/dev mp-weixin 出错.md\"},{\"text\":\"uni-app 做 android 应用开启定位权限\",\"link\":\"/articles/uniapp/uni-app 做 android 应用开启定位权限.md\"},{\"text\":\"uni-app 引入 Cesium 报错\",\"link\":\"/articles/uniapp/uni-app 引入 Cesium 报错.md\"},{\"text\":\"uni-app 通过 plus.io 持久化存储 Json 文件（卸载重装后依然可以拿到）\",\"link\":\"/articles/uniapp/uni-app 通过 plus.io 持久化存储 Json 文件（卸载重装后依然可以拿到）.md\"},{\"text\":\"uniapp APP 端在线升级功能实现讲解——强制或可选升级，下载进度显示\",\"link\":\"/articles/uniapp/uniapp APP 端在线升级功能实现讲解——强制或可选升级，下载进度显示.md\"},{\"text\":\"uniapp 登陆后从 login 页面跳转到 tabBar 页面不触发 tabBar 页面生命周期\",\"link\":\"/articles/uniapp/uniapp 登陆后从 login 页面跳转到 tabBar 页面不触发 tabBar 页面生命周期.md\"},{\"text\":\"uniapp 里获取验证码样例\",\"link\":\"/articles/uniapp/uniapp 里获取验证码样例.md\"}],\"/articles/vue2/\":[],\"/project/order-project/\":[{\"text\":\"1.项目起步\",\"link\":\"/project/order-project/1.项目起步.md\"},{\"text\":\"2.点餐模块\",\"link\":\"/project/order-project/2.点餐模块.md\"},{\"text\":\"3.订单模块\",\"link\":\"/project/order-project/3.订单模块.md\"}],\"/learnExpand/\":[{\"text\":\"luckyexcel引入教程\",\"link\":\"/learnExpand/luckyexcel引入教程.md\"},{\"text\":\"前端代码规范\",\"link\":\"/learnExpand/前端代码规范.md\"}]},\"socialLinks\":[{\"icon\":\"gitee\",\"link\":\"https://gitee.com/Dust_WX\"}],\"search\":{\"provider\":\"local\",\"options\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\"}}}}}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>